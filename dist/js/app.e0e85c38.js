(function(e){function t(t){for(var s,a,i=t[0],c=t[1],u=t[2],p=0,d=[];p<i.length;p++)a=i[p],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],s=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(s=!1)}s&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var s={},n={app:0},o=[];function a(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=s,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var s=r("85ec"),n=r.n(s);n.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("0cdd");var s=r("2b0e"),n=r("5f5b");r("ab8b"),r("2dd8");s["default"].use(n["b"]);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"row justify-content-center"},[r("Title",{attrs:{id:"title"}})],1),r("div",{staticClass:"row",attrs:{id:"nav"}},[r("div",{staticClass:"col-xl-12"},[r("b-navbar",{attrs:{toggleable:"lg",type:"light",variant:"success"}},[r("b-nav",[r("b-nav-item",{attrs:{to:"/"}},[r("span",[e._v(" Home ")])]),e.user?e._e():r("b-nav-item",{attrs:{to:"/login"}},[r("span",[e._v(" Login/Register ")])]),e.user?r("b-nav-item",{attrs:{to:"/"},on:{click:e.logout}},[r("span",[e._v(" Log out ")])]):e._e()],1)],1)],1)]),r("router-view")],1)},a=[],i=r("2f62"),c=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},u=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-sm-8",staticStyle:{"margin-bottom":"5px"}},[s("nav",{staticClass:"navbar navbar-light",staticStyle:{"border-color":"black","border-style":"solid","background-color":"#66ff99","font-size":"40px"}},[s("strong",[e._v("Canada Discussion Board")]),s("img",{attrs:{alt:"Vue logo",width:"10%",height:"10%",src:r("cf05")}})])])])}],l={name:"Title"},p=l,d=r("2877"),m=Object(d["a"])(p,c,u,!1,null,null,null),f=m.exports,g={computed:Object(i["b"])("user",{user:function(e){return e.user}}),components:{Title:f},methods:{logout:function(){this.$store.dispatch("user/logout")}}},b=g,v=(r("034f"),Object(d["a"])(b,o,a,!1,null,null,null)),h=v.exports,_=r("8c4f"),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("Board")],1)},y=[],x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-sm-2"},[r("b-form-group",{attrs:{id:"input-group-3",label:"Category:","label-for":"input-3"}},[r("b-form-select",{attrs:{id:"input-3",options:e.categories},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}})],1)],1),r("div",{staticClass:"col-sm-2"},[r("b-form-group",{attrs:{id:"input-group-3",label:"Region:","label-for":"input-3"}},[r("b-form-select",{attrs:{id:"input-3",options:e.regions},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}})],1)],1)]),r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-sm-6"},[r("b-form-input",{attrs:{id:"input-2",placeholder:"Enter Keyword"},model:{value:e.form.keyword,callback:function(t){e.$set(e.form,"keyword",t)},expression:"form.keyword"}})],1)]),r("div",{staticClass:"row justify-content-center",staticStyle:{margin:"20px"}},[r("div",{staticClass:"col-sm-2"},[r("b-button",{attrs:{variant:"outline-secondary"},on:{click:e.searchPost}},[e._v("Search")])],1),r("div",{staticClass:"col-sm-2"},[r("b-button",{attrs:{variant:"outline-secondary"},on:{click:e.createPost}},[e._v("New Post")])],1)]),e._l(e.pageData(e.posts),(function(t,s){return r("b-list-group",{key:""+s},[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-sm-8"},[r("b-card",{scopedSlots:e._u([{key:"footer",fn:function(){return[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-2"},[r("b-card-text",[e._v(" By "+e._s(t.user.username)+" ")])],1),r("div",{staticClass:"col-sm-8"},[r("small",{staticClass:"text-muted"},[e._v(" "+e._s(new Date(t.updated_date).toLocaleString())+" ")])])])]},proxy:!0}],null,!0)},[r("b-card-title",[r("b-card-header",[r("div",{staticClass:"row justify-content-start",staticStyle:{"margin-bottom":"10px"}},[r("b-card-text",{staticStyle:{"font-size":"16px"}},[e._v(" "+e._s(t.region)+" ")])],1),r("div",{staticClass:"row justify-content-start"},[r("b-card-sub-title",[e._v(" "+e._s(t.category)+" ")])],1)]),r("b-card-text",{staticClass:"card-link",staticStyle:{margin:"10px","font-size":"30px"}},[e._v(" "+e._s(t.title)+" ")])],1),r("b-button",{on:{click:function(r){return e.viewPost(t._id)}}},[e._v("See Post")])],1)],1)])])})),r("div",{staticClass:"row justify-content-center",staticStyle:{margin:"10px"}},[r("div",{staticClass:"col-sm-2"},[r("b-button",{attrs:{disabled:1==this.page_number},on:{click:e.prevPage}},[e._v("Prev")])],1),r("div",{staticClass:"col-sm-2"},[r("b-button",{attrs:{disabled:10*this.page_number>=e.posts.length},on:{click:e.nextPage}},[e._v("Next")])],1)])],2)},k=[],R=(r("fb6a"),{categories:[{text:"All",value:null},"Trip","Study","Immigrant","Work","Family","Food","Finance","Life","Friends","Others"],regions:[{text:"All",value:null},"Toronto","Vancouver","Victoria","Calgary","Ottawa","Montreal","Canada"]}),P={name:"Board",data:function(){return{form:{category:"",region:"",keyword:""},categories:R.categories,regions:R.regions}},computed:Object(i["b"])({posts:function(e){return e.post.display_posts},user:function(e){return e.user.user},page_number:function(e){return e.post.page_number}}),created:function(){this.$store.dispatch("post/getAllPosts")},methods:{pageData:function(e){if(e){var t=10*(this.page_number-1),r=t+10>this.posts.length?this.posts.length:t+10;return e.slice(t,r)}return e},createPost:function(){this.user?this.$router.push("NewPost"):this.$router.push("Login")},searchPost:function(){this.$store.dispatch("post/searchPosts",this.form)},viewPost:function(e){this.$store.dispatch("post/getPost",e)},nextPage:function(){this.$store.dispatch("post/setPageNumber",this.page_number+1)},prevPage:function(){this.$store.dispatch("post/setPageNumber",this.page_number-1)}}},C=P,j=Object(d["a"])(C,x,k,!1,null,null,null),O=j.exports,S={name:"Home",components:{Board:O},computed:Object(i["b"])({user:function(e){return e.user.user}})},E=S,$=Object(d["a"])(E,w,y,!1,null,null,null),N=$.exports,T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row justify-content-md-center"},[r("div",{staticClass:"col-md-4"},[r("b-form",{on:{submit:e.onSubmit}},[r("b-form-group",{attrs:{id:"username-input",label:"Username:","label-for":"username"}},[r("b-form-input",{attrs:{id:"username",required:"",placeholder:"Enter Username"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),r("b-form-group",{attrs:{id:"password-input",label:"Password:","label-for":"password"}},[r("b-form-input",{attrs:{id:"password",type:"password",required:"","aria-describedby":"password-help-block"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("b-alert",{attrs:{show:""!=this.error_message,variant:"danger"}},[e._v(e._s(this.error_message))]),r("div",{staticClass:"row justify-content-between"},[r("div",{staticClass:"col-6"},[r("b-button",{attrs:{type:"submit",variant:"success"}},[e._v("Submit")])],1),r("div",{staticClass:"col-6"},[r("b-button",{attrs:{type:"reset",variant:"secondary"},on:{click:e.toRegister}},[e._v(" Register ")])],1)])],1)],1)])},A=[],D={data:function(){return{username:"",password:""}},computed:Object(i["b"])({error_message:function(e){return e.actionResponse.login_error}}),methods:{onSubmit:function(e){e.preventDefault(),this.$store.dispatch("user/signIn",{username:this.username,password:this.password})},toRegister:function(){this.$router.push("Register")}}},F=D,I=Object(d["a"])(F,T,A,!1,null,null,null),L=I.exports,U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row justify-content-md-center"},[r("div",{staticClass:"col-md-4"},[r("b-form",{on:{submit:e.onSubmit}},[r("b-form-group",{attrs:{id:"username-input",label:"Username:","label-for":"username"}},[r("b-form-input",{attrs:{id:"username","aria-describedby":"input-1-live-feedback"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),r("b-form-group",{attrs:{id:"password-input",label:"Password:","label-for":"password"}},[r("b-form-input",{attrs:{id:"password",type:"password",required:"","aria-describedby":"input-2-live-feedback"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("b-form-group",{attrs:{id:"password-input2",label:"Confirm Password:","label-for":"password"}},[r("b-form-input",{attrs:{id:"confirm_password",type:"password",required:"","aria-describedby":"password-help-block"},model:{value:e.confirm_password,callback:function(t){e.confirm_password=t},expression:"confirm_password"}})],1),r("b-alert",{attrs:{show:""!=this.error_message,variant:"danger"}},[e._v(e._s(this.error_message))]),r("div",{staticClass:"row justify-content-between"},[r("div",{staticClass:"col-6"},[r("b-button",{attrs:{type:"submit",variant:"success"}},[e._v("Register")])],1),r("div",{staticClass:"col-6"},[r("b-button",{attrs:{type:"reset",variant:"secondary"},on:{click:e.toLogIn}},[e._v("Login")])],1)])],1)],1)])},q=[],B={data:function(){return{username:"",password:"",confirm_password:""}},computed:Object(i["b"])({error_message:function(e){return e.actionResponse.register_error}}),methods:{onSubmit:function(e){e.preventDefault(),this.$store.dispatch("user/register",{username:this.username,password:this.password,confirm_password:this.confirm_password})},toLogIn:function(){this.$router.push("Login")}}},J=B,M=Object(d["a"])(J,U,q,!1,null,null,null),H=M.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-form",{on:{submit:e.onSubmit}},[r("div",{staticClass:"row justify-content-center"},[r("b-form-group",{attrs:{id:"input-group-2",label:"Username:","label-for":"input-2"}},[e._v(" "+e._s(e.user.username)+" ")])],1),r("div",{staticClass:"row justify-content-center"},[r("b-form-group",{attrs:{id:"input-group-3",label:"Post Category:","label-for":"input-3",description:"Select the category of the topic"}},[r("b-form-select",{attrs:{id:"input-3",options:e.categories,required:""},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}})],1)],1),r("div",{staticClass:"row justify-content-center"},[r("b-form-group",{attrs:{id:"input-group-3",label:"Region:","label-for":"input-3",description:"Select the region of the topic"}},[r("b-form-select",{attrs:{id:"input-3",options:e.regions,required:""},model:{value:e.region,callback:function(t){e.region=t},expression:"region"}})],1)],1),r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-sm-8"},[r("b-form-group",{attrs:{id:"input-group-2",label:"Title","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"title",required:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1)],1)]),r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-sm-8"},[r("b-form-group",{attrs:{id:"input-group-2",label:"Text","label-for":"input-2"}},[r("b-form-textarea",{attrs:{id:"textarea",rows:"8",required:""},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)],1)]),r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-sm-8"},[r("b-form-group",{attrs:{id:"input-group-2",label:"Image",description:"Accept jpg, png, gif files","label-for":"input-2"}},[r("b-form-file",{attrs:{accept:".jpg, .png, .gif",id:"image"},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}})],1)],1)]),this.spinning?r("div",{staticClass:"row justify-content-center"},[r("b-spinner",{staticStyle:{margin:"20px"},attrs:{variant:"primary",label:"Spinning"}})],1):e._e(),r("div",{staticClass:"row justify-content-center"},[r("b-alert",{attrs:{show:""!=this.error_message,variant:"danger"}},[e._v(e._s(this.error_message)+" ")])],1),r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")])],1)],1)},V=[],W=(r("a434"),r("2909")),G={name:"NewPost",data:function(){var e=Object(W["a"])(R.categories),t=Object(W["a"])(R.regions);return e.splice(0,1),t.splice(0,1),{categories:e,regions:t,category:"",region:"",title:"",text:"",image:null}},computed:Object(i["b"])({user:function(e){return e.user.user},spinning:function(e){return e.actionResponse.post_submission_loading},error_message:function(e){return e.actionResponse.create_post_error}}),methods:{onSubmit:function(e){e.preventDefault(),this.$store.dispatch("post/createNewPost",{data:{category:this.category,region:this.region,title:this.title,text:this.text,username:this.user.username},image:this.image})}}},K=G,Q=Object(d["a"])(K,z,V,!1,null,null,null),X=Q.exports,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-sm-8"},[r("b-card",{scopedSlots:e._u([{key:"footer",fn:function(){return[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-2"},[e.user?r("b-button",{on:{click:e.replyPost}},[e._v("Reply")]):e._e()],1),r("div",{staticClass:"col-sm-8"},[r("small",{staticClass:"text-muted"},[e._v(" "+e._s(new Date(e.current_post.create_date).toLocaleString())+" ")])])])]},proxy:!0}])},[r("b-card-title",[r("b-card-text",{staticClass:"card-link"},[e._v(" "+e._s(e.current_post.title)+" ")])],1),r("b-card-text",[e._v(" By "+e._s(e.current_post.user.username)+" ")]),r("b-card-text",[e._v(" "+e._s(e.current_post.text)+" ")]),e.current_post.imageUrl?r("b-img",{attrs:{fluid:"",alt:"Responsive image",src:""+e.current_post.imageUrl}}):e._e()],1)],1)]),r("div",{staticClass:"row justify-content-center"},[r("b-alert",{attrs:{show:""!=this.error_message,variant:"danger"}},[e._v(e._s(this.error_message))])],1),e.clickedReply?r("div",{staticClass:"row justify-content-center",staticStyle:{margin:"50px"}},[r("div",{staticClass:"col-sm-8"},[r("b-card",[r("b-card-text",[e._v(" Reply ")]),r("b-form-group",{attrs:{id:"input-group-2","label-for":"input-2"}},[r("b-form-textarea",{attrs:{id:"textarea",rows:"4",placeholder:"Write Text Here"},model:{value:e.reply,callback:function(t){e.reply=t},expression:"reply"}})],1),r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-sm-2"},[r("b-button",{attrs:{disabled:!e.reply},on:{click:e.submitReply}},[e._v("Submit")])],1),r("div",{staticClass:"col-sm-2"},[r("b-button",{attrs:{variant:"danger"},on:{click:e.deleteReply}},[e._v("Delete")])],1)])],1)],1)]):e._e(),e._l(e.pageData(e.current_post.replies),(function(t,s){return r("div",{key:""+s},[r("div",{staticClass:"row justify-content-center",staticStyle:{margin:"10px"}},[r("div",{staticClass:"col-sm-8"},[r("b-card",[r("div",{staticClass:"row"},[r("b-card-sub-title",[e._v("Comment "+e._s(10*(e.pageNumber-1)+s+1)+" by "+e._s(t.user.username))])],1),r("b-card-text",[e._v(e._s(t.text))])],1)],1)])])})),r("div",{staticClass:"row justify-content-center",staticStyle:{margin:"10px"}},[r("div",{staticClass:"col-sm-2"},[r("b-button",{attrs:{disabled:1==this.pageNumber},on:{click:e.prevReplies}},[e._v("Prev")])],1),r("div",{staticClass:"col-sm-2"},[r("b-button",{attrs:{disabled:10*this.pageNumber>=e.current_post.replies.length},on:{click:e.nextReplies}},[e._v("Next")])],1)])],2)},Z=[],ee={name:"Post",computed:Object(i["b"])({user:function(e){return e.user.user},current_post:function(e){return e.post.current_post},error_message:function(e){return e.actionResponse.add_reply_error}}),data:function(){return{clickedReply:!1,reply:"",pageNumber:1}},methods:{replyPost:function(){this.clickedReply=!0},deleteReply:function(){this.clickedReply=!1,this.reply=""},submitReply:function(){this.clickedReply=!1,this.$store.dispatch("post/addReply",{user:this.user.username,reply:this.reply,post:this.current_post._id})},pageData:function(e){if(e){var t=10*(this.pageNumber-1),r=t+10>e.length?e.length:t+10;return e.slice(t,r)}return e},nextReplies:function(){this.pageNumber++},prevReplies:function(){this.pageNumber--}}},te=ee,re=Object(d["a"])(te,Y,Z,!1,null,null,null),se=re.exports;s["default"].use(_["a"]);var ne=[{path:"/",name:"Home",component:N},{path:"/login",name:"Login",component:L},{path:"/register",name:"Register",component:H},{path:"/newpost",name:"NewPost",component:X},{path:"/post",name:"Post",component:se}],oe=new _["a"]({mode:"history",base:"/",routes:ne}),ae=oe,ie=r("0e44"),ce=(r("d3b7"),r("96cf"),r("1da1")),ue=r("db49"),le=r.n(ue),pe={namespaced:!0,state:{user:"",showingError:!1},getters:{user:function(e){return e.user},showingError:function(e){return e.showingError}},actions:{signIn:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function r(){var s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(t),r.prev=1,r.next=4,fetch(le.a.backend_API+"/user-session",{method:"post",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 4:return s=r.sent,r.next=7,s.json();case 7:n=r.sent,n.user?(e.commit("setUser",n.user),ae.push("/")):e.commit("actionResponse/loginError","Login Failed",{root:!0}),r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](1),console.error(r.t0),e.commit("actionResponse/loginError",r.t0,{root:!0});case 15:case"end":return r.stop()}}),r,null,[[1,11]])})))()},register:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function r(){var s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,t.password===t.confirm_password){r.next=5;break}e.commit("actionResponse/registerError","Password and Confirm Password have to match",{root:!0}),r.next=12;break;case 5:return r.next=7,fetch(le.a.backend_API+"/users",{method:"post",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 7:return s=r.sent,r.next=10,s.json();case 10:n=r.sent,n.user?(e.commit("setUser",n.user),ae.push("/")):e.commit("actionResponse/registerError","Register Failed",{root:!0});case 12:r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](0),console.error(r.t0),e.commit("actionResponse/registerError",r.t0,{root:!0});case 18:case"end":return r.stop()}}),r,null,[[0,14]])})))()},logout:function(e){return Object(ce["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(le.a.backend_API+"/user-session/",{credentials:"include",method:"delete"});case 3:e.commit("clearUser"),t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),console.error(t.t0),e.commit("clearUser");case 10:localStorage.clear(),window.location.reload();case 12:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},mutations:{setUser:function(e,t){e.user=t},clearUser:function(e){e.user=null}}},de=(r("4de4"),r("4d63"),r("ac1f"),r("25f0"),r("466d"),{namespaced:!0,state:{posts:[],current_post:"",display_posts:[],page_number:1},getters:{posts:function(e){return e.posts},display_posts:function(e){return e.display_posts},current_post:function(e){return e.current_post},page_number:function(e){return e.page_number}},actions:{setPageNumber:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.commit("setPageNumber",t);case 1:case"end":return r.stop()}}),r)})))()},searchPosts:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.commit("setDisplayPosts",t);case 1:case"end":return r.stop()}}),r)})))()},getAllPosts:function(e){return Object(ce["a"])(regeneratorRuntime.mark((function t(){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(le.a.backend_API+"/posts",{method:"get",credentials:"include"});case 3:return r=t.sent,t.next=6,r.json();case 6:s=t.sent,console.log(s),e.commit("setPosts",s.posts),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error(t.t0),e.commit("actionResponse/getAllPostsError","Get Posts Failed",{root:!0});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},createNewPost:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function r(){var s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.commit("actionResponse/runSpinner",null,{root:!0}),s=new FormData,s.append("file",t.image),s.append("data",JSON.stringify(t.data)),r.prev=4,r.next=7,fetch(le.a.backend_API+"/posts",{method:"post",header:{"Content-Type":"multipart/form-data"},credentials:"include",body:s});case 7:n=r.sent,n.status>=200&&n.status<300?(e.commit("actionResponse/endSpinner",null,{root:!0}),ae.push("/")):(console.error(n.statusText),e.commit("actionResponse/createPostError","Create Post Failed",{root:!0})),r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](4),console.error(r.t0),e.commit("actionResponse/createPostError","Post Submit Failed",{root:!0});case 15:case"end":return r.stop()}}),r,null,[[4,11]])})))()},getPost:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function r(){var s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(t),r.prev=1,r.next=4,fetch(le.a.backend_API+"/post/"+t,{credentials:"include",method:"get"});case 4:return s=r.sent,r.next=7,s.json();case 7:n=r.sent,console.log(n),e.commit("setPost",n.post),n?(console.log(ae.currentRoute.path),"/post"!=ae.currentRoute.path&&ae.push("/post")):(console.error(s.statusText),e.commit("actionResponse/getPostError","Post Not Found",{root:!0})),r.next=17;break;case 13:r.prev=13,r.t0=r["catch"](1),console.error(r.t0),e.commit("actionResponse/getPostError","Post Not Found",{root:!0});case 17:case"end":return r.stop()}}),r,null,[[1,13]])})))()},addReply:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(t),r.prev=1,r.next=4,fetch(le.a.backend_API+"/replies",{method:"post",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:s=r.sent,s.status>=200&&s.status<300?(console.log(t.post),e.dispatch("getPost",t.post)):(console.error(s.statusText),e.commit("actionResponse/addReplayError","Reply Submit Failed",{root:!0})),r.next=13;break;case 8:r.prev=8,r.t0=r["catch"](1),console.log("getPost fail"),console.error(r.t0),e.commit("actionResponse/addReplayError","Adde Reply Failed",{root:!0});case 13:case"end":return r.stop()}}),r,null,[[1,8]])})))()}},mutations:{setPageNumber:function(e,t){e.page_number=t},setPosts:function(e,t){e.posts=t,e.display_posts=t,console.log(e.display_posts)},setPost:function(e,t){e.current_post=t},setDisplayPosts:function(e,t){var r=e.posts;if(t.category&&(r=r.filter((function(e){return e.category===t.category}))),t.region&&(r=r.filter((function(e){return e.region===t.region}))),t.keyword){var s=new RegExp(t.keyword,"i");r=r.filter((function(e){return e.title.match(s)||e.text.match(s)}))}console.log(r),console.log(e.posts),e.display_posts=r}}}),me=function(){return{create_post_error:"",get_post_error:"",get_all_posts_error:"",add_reply_error:"",register_error:"",login_error:"",post_submission_loading:!1}},fe={registerError:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.register_error=t,r.next=3,new Promise((function(e){return setTimeout(e,3e3)}));case 3:e.register_error="";case 4:case"end":return r.stop()}}),r)})))()},loginError:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.login_error=t,r.next=3,new Promise((function(e){return setTimeout(e,3e3)}));case 3:e.login_error="";case 4:case"end":return r.stop()}}),r)})))()},getAllPostsError:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.get_all_posts_error=t,r.next=3,new Promise((function(e){return setTimeout(e,3e3)}));case 3:e.get_all_posts_error="";case 4:case"end":return r.stop()}}),r)})))()},createPostError:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.create_post_error=t,e.post_submission_loading=!1,r.next=4,new Promise((function(e){return setTimeout(e,3e3)}));case 4:e.create_post_error="";case 5:case"end":return r.stop()}}),r)})))()},getPostError:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.get_post_error=t,r.next=3,new Promise((function(e){return setTimeout(e,3e3)}));case 3:e.get_post_error="";case 4:case"end":return r.stop()}}),r)})))()},addReplayError:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.add_reply_error=t,r.next=3,new Promise((function(e){return setTimeout(e,3e3)}));case 3:e.add_reply_error="";case 4:case"end":return r.stop()}}),r)})))()},runSpinner:function(e){e.post_submission_loading=!0},endSpinner:function(e){e.post_submission_loading=!1}},ge={namespaced:!0,state:me,mutations:fe};s["default"].use(i["a"]);var be=new i["a"].Store({modules:{user:pe,post:de,actionResponse:ge},plugins:[Object(ie["a"])()]}),ve=r("b1e0");r("f9e3");s["default"].config.productionTip=!1,s["default"].use(n["a"]),s["default"].use(ve["a"]),new s["default"]({router:ae,store:be,render:function(e){return e(h)}}).$mount("#app")},"85ec":function(e,t,r){},cf05:function(e,t,r){e.exports=r.p+"img/logo.3b492740.png"},db49:function(e,t){var r={backend_API:"https://discussion-board-backend.herokuapp.com/"};e.exports=r}});
//# sourceMappingURL=app.e0e85c38.js.map